  <h1>Sign Up to our Weekly Newsletter</h1>

  <fieldset>
    <legend>Enter your details</legend>
    <form name='signupForm' novalidate>

      <input type="text" name="firstname" placeholder="Enter your first name"
        ng-model="signCtrl.user.firstname"
        required>
      <span
          ng-if="signupForm.firstname.$error.required && signupForm.firstname.$touched">
          You must enter your first name
      </span>
      <br>

      <input type="text" name="surname" placeholder="Enter your surname"
        ng-model="signCtrl.user.surname"
        required>
      <span
        ng-if="signupForm.surname.$error.required && signupForm.surname.$touched">
        You must enter your surname
      </span>
      <br>

      <input type="text" name="short_name" placeholder="Enter your favourite dish"
        ng-model="signCtrl.user.short_name"
        pattern="([A-Z][A-Z0-9]*)"
        required
        minlength="2"
        maxlength="4"
        ng-model-options="{updateOn: 'blur', allowInvalid: true}"
        item-exists>
        <span ng-if="(signupForm.short_name.$error.required || signupForm.short_name.$error.minlength) && signupForm.short_name.$touched">
             Short Name of 2-4 characters required
        </span>

        <span ng-if="signupForm.short_name.$invalid">
             That short name does not exist
        </span>
        <br>
      <input type="email" name="email" placeholder="Email"
        ng-model="signCtrl.user.email"
        required>
        <span ng-if="signupForm.email.$invalid && signupForm.email.$touched">
          Must be a valid email address: handle@domain format
        </span>
        <br>

      <input type="text" name="phone" placeholder="Phone ###-###-####"
        ng-model="signCtrl.user.phone"
        pattern="(\d{3})-(\d{3})-(\d{4})">
        <span ng-if="signupForm.phone.$invalid && signupForm.phone.$touched">
          Phone must be in the format ###-###-####.
        </span>
        <br>


      <button name="sub-button"
        ng-disabled="(signupForm.$invalid || signupForm.short_name.$error.required || signupForm.$error.minlength) || (signupForm.short_name.$touched==false && signupForm.$invalid==null)"
        ng-click="signCtrl.submit()">Submit</button>


    </form>
  </fieldset>



  <div id="info" ng-if="signCtrl.completed">
          Your information has been saved
  </div>

  <div id="info" ng-if="signCtrl.completed==false && signupForm.sub-button.touched==true">
        There is a problem with your form.  Information has not been saved.
  </div>
